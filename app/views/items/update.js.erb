
// Atualiza a linha do item com os novos valores
var itemRow = document.getElementById('item-<%= @item.id %>');
if (itemRow) {
  // Atualiza a quantidade comprada
  itemRow.querySelector('.quantity-form input').value = '<%= @item.quantidade_comprada %>';

  // Atualiza o badge "Falta Comprar"
  var faltaComprar = <%= @item.quantity %> - <%= @item.quantidade_comprada %>;
  var badge = itemRow.querySelector('.badge.bg-warning, .badge.bg-success');
  if (badge) {
    badge.textContent = faltaComprar;
    badge.className = 'badge ' + (faltaComprar > 0 ? 'bg-warning' : 'bg-success');
  }

  // Mostra notificação
  showNotification('Item atualizado com sucesso!', 'success');
}

function showNotification(message, type) {
  // Implemente uma notificação simples
  var alert = document.createElement('div');
  alert.className = 'alert alert-' + type + ' alert-dismissible fade show';
  alert.innerHTML = message + '<button type="button" class="btn-close" data-bs-dismiss="alert"></button>';
  alert.style.position = 'fixed';
  alert.style.top = '20px';
  alert.style.right = '20px';
  alert.style.zIndex = '9999';
  document.body.appendChild(alert);

  setTimeout(function() {
    alert.remove();
  }, 3000);
}